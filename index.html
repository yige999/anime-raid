<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Raid Wiki - Latest Guides, Codes & Tier List 2025</title>
    <meta name="description" content="Complete Anime Raid guide with active codes, character tier list, builds, skills, and drop rates. Become an Anime Raid master with our comprehensive guides!">

    <!-- SEO Meta Tags -->
    <meta name="keywords" content="anime raid, codes, tier list, guide, builds, skills, equipment, drops, characters">
    <meta name="author" content="Anime Raid Wiki">
    <link rel="canonical" href="https://animeraid.wiki/">

    <!-- Open Graph -->
    <meta property="og:title" content="Anime Raid Wiki - Latest Guides, Codes & Tier List 2025">
    <meta property="og:description" content="Complete Anime Raid guide with active codes, character tier list, builds, and drop rates">
    <meta property="og:type" content="website">
    <meta property="og:url" href="https://animeraid.wiki/">

    <!-- Performance Optimization: Preload Critical Resources -->
    <link rel="preload" href="css/main.css" as="style">
    <link rel="preload" href="js/main.js" as="script">
    <link rel="preload" href="assets/images/logo.svg" as="image">

    <!-- DNS Prefetch for External Resources -->
    <link rel="dns-prefetch" href="//cdn.tailwindcss.com">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">

    <!-- Favicon - Multiple Formats for Maximum Compatibility -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16.png">
    <link rel="shortcut icon" href="assets/icons/favicon.ico">
    <link rel="apple-touch-icon" href="assets/icons/favicon.svg">

    <!-- Enhanced Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Anime Raid Wiki",
        "description": "Complete Anime Raid game guide with active codes, character tier list, builds, skills, and drop rates",
        "url": "https://animeraid.wiki/",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://animeraid.wiki/search?q={search_term_string}",
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Anime Raid Wiki",
            "logo": {
                "@type": "ImageObject",
                "url": "https://animeraid.wiki/assets/images/logo.svg",
                "width": 200,
                "height": 50
            }
        }
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://animeraid.wiki/"
            }
        ]
    }
    </script>

    <!-- FAQ Schema for Homepage -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is Anime Raid Wiki?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Anime Raid Wiki is a comprehensive game guide providing the latest codes, character tier lists, build calculators, and detailed strategies for Anime Raid players."
                }
            },
            {
                "@type": "Question",
                "name": "How often are codes updated?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Codes are updated daily as soon as new ones are released. Check our codes page regularly for the latest active codes and exclusive rewards."
                }
            },
            {
                "@type": "Question",
                "name": "Are the tier lists regularly updated?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, our character tier lists are updated weekly based on current meta, game updates, and community feedback to ensure accurate rankings."
                }
            }
        ]
    }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/" class="flex items-center">
                        <img src="assets/images/logo.svg"
                             alt="Anime Raid Wiki - Complete Game Guide"
                             width="200"
                             height="50"
                             loading="lazy"
                             class="h-8 w-auto mr-3">
                        <span class="text-xl font-bold text-gray-900">Anime Raid Wiki</span>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="guides/" class="text-gray-700 hover:text-red-600 transition-colors">Guides</a>
                    <a href="codes/" class="text-gray-700 hover:text-red-600 transition-colors">Codes</a>
                    <a href="tier-lists/" class="text-gray-700 hover:text-red-600 transition-colors">Tier List</a>
                    <a href="database/units/" class="text-gray-700 hover:text-red-600 transition-colors">Database</a>
                    <a href="tools/" class="text-gray-700 hover:text-red-600 transition-colors">Tools</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-red-600">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden">
        <div class="fixed inset-0 z-50 bg-black bg-opacity-50">
            <div class="fixed right-0 top-0 h-full w-64 bg-white shadow-xl">
                <div class="flex justify-between items-center p-4 border-b">
                    <span class="font-bold text-lg">Menu</span>
                    <button id="close-mobile-menu" class="text-gray-500 hover:text-gray-700">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="p-4">
                    <nav class="space-y-2">
                        <a href="guides/" class="block px-3 py-2 rounded-md text-gray-700 hover:text-red-600 hover:bg-gray-50 transition-colors">
                            <span class="mr-2">üìñ</span> Guides
                        </a>
                        <a href="codes/" class="block px-3 py-2 rounded-md text-gray-700 hover:text-red-600 hover:bg-gray-50 transition-colors">
                            <span class="mr-2">üéÅ</span> Codes
                        </a>
                        <a href="tier-lists/" class="block px-3 py-2 rounded-md text-gray-700 hover:text-red-600 hover:bg-gray-50 transition-colors">
                            <span class="mr-2">üèÜ</span> Tier List
                        </a>
                        <a href="database/units/" class="block px-3 py-2 rounded-md text-gray-700 hover:text-red-600 hover:bg-gray-50 transition-colors">
                            <span class="mr-2">üóÇÔ∏è</span> Database
                        </a>
                        <a href="tools/" class="block px-3 py-2 rounded-md text-gray-700 hover:text-red-600 hover:bg-gray-50 transition-colors">
                            <span class="mr-2">üõ†Ô∏è</span> Tools
                        </a>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-red-600 to-purple-600 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6">Anime Raid Ultimate Guide</h1>
            <p class="text-xl mb-8 max-w-3xl mx-auto">Get the latest codes, character rankings, build calculator, and drop rate simulator. Become an Anime Raid master!</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="codes/" class="bg-yellow-400 text-gray-900 px-8 py-3 rounded-lg font-bold hover:bg-yellow-300 transition-colors">
                    üéÅ Latest Codes
                </a>
                <a href="tools/build-calculator/" class="bg-blue-500 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-400 transition-colors">
                    üõ†Ô∏è Build Calculator
                </a>
            </div>
        </div>
    </section>

    <!-- Quick Stats with Real-time Updates -->
    <section class="py-8 bg-white border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-gray-900">üìä Live Statistics</h2>
                <div class="flex items-center space-x-2">
                    <div id="sync-status" class="flex items-center">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        <span class="text-sm text-gray-600">Live</span>
                    </div>
                    <button onclick="refreshAllStats()" class="text-blue-600 hover:text-blue-800 text-sm">
                        Refresh Stats
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="stat-card">
                    <div class="text-3xl font-bold text-red-600" id="character-count">150+</div>
                    <div class="text-gray-600">Character Data</div>
                    <div class="text-xs text-gray-500 mt-1">From 19 sources</div>
                </div>
                <div class="stat-card">
                    <div class="text-3xl font-bold text-green-600" id="active-codes-count">5</div>
                    <div class="text-gray-600">Active Codes</div>
                    <div class="text-xs text-gray-500 mt-1">Updated hourly</div>
                </div>
                <div class="stat-card">
                    <div class="text-3xl font-bold text-blue-600" id="guides-count">100+</div>
                    <div class="text-gray-600">In-Depth Guides</div>
                    <div class="text-xs text-gray-500 mt-1">Expert curated</div>
                </div>
                <div class="stat-card">
                    <div class="text-3xl font-bold text-purple-600" id="sources-count">19</div>
                    <div class="text-gray-600">Data Sources</div>
                    <div class="text-xs text-gray-500 mt-1">Auto-syncing</div>
                </div>
            </div>
            <div class="mt-6 text-center">
                <div id="last-sync-time" class="text-sm text-gray-500">
                    Last sync: Loading...
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid md:grid-cols-3 gap-8">

            <!-- Latest Codes -->
            <section id="codes" class="bg-white rounded-lg shadow-lg p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                        <span class="text-2xl mr-2">üéÅ</span> Latest Codes
                    </h2>
                    <div class="flex items-center space-x-2">
                        <span id="codes-last-update" class="text-xs text-gray-500">Loading...</span>
                        <button onclick="refreshHomeCodes()" class="text-blue-600 hover:text-blue-800">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="home-codes-container" class="space-y-3">
                    <div class="text-center py-4">
                        <div class="inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"></div>
                        <p class="text-sm text-gray-500 mt-2">Loading latest codes...</p>
                    </div>
                </div>
                <a href="codes/" class="inline-block mt-4 text-red-600 hover:text-red-700 font-semibold">
                    View All Codes ‚Üí
                </a>
                <div id="codes-sources" class="mt-3 text-xs text-gray-500 hidden">
                    Data from: <span id="source-list"></span>
                </div>
            </section>

            <!-- Featured Guides -->
            <section id="guides" class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-4 text-gray-900 flex items-center">
                    <span class="text-2xl mr-2">üìñ</span> Popular Guides
                </h2>
                <div class="space-y-4">
                    <article class="border-b pb-3">
                        <h3 class="font-semibold text-gray-900 hover:text-red-600">
                            <a href="guides/beginner-guide.html">Complete Beginner's Guide</a>
                        </h3>
                        <p class="text-sm text-gray-600 mt-1">Master game basics from scratch</p>
                    </article>
                    <article class="border-b pb-3">
                        <h3 class="font-semibold text-gray-900 hover:text-red-600">
                            <a href="guides/skills/skill-mechanics.html">Skill System Deep Dive</a>
                        </h3>
                        <p class="text-sm text-gray-600 mt-1">Understand active and passive skill combinations</p>
                    </article>
                    <article>
                        <h3 class="font-semibold text-gray-900 hover:text-red-600">
                            <a href="guides/equipment/equipment-guide.html">Complete Equipment Guide</a>
                        </h3>
                        <p class="text-sm text-gray-600 mt-1">Gear acquisition, enhancement and set bonuses</p>
                    </article>
                </div>
            </section>

            <!-- Tools Section -->
            <section id="tools" class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-bold mb-4 text-gray-900 flex items-center">
                    <span class="text-2xl mr-2">üõ†Ô∏è</span> Useful Tools
                </h2>
                <div class="space-y-4">
                    <a href="tools/build-calculator/" class="block p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
                        <h3 class="font-semibold text-blue-900">Build Calculator</h3>
                        <p class="text-sm text-blue-700 mt-1">Calculate optimal character builds</p>
                    </a>
                    <a href="tools/drop-simulator/" class="block p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
                        <h3 class="font-semibold text-purple-900">Drop Rate Simulator</h3>
                        <p class="text-sm text-purple-700 mt-1">Simulate boss drop probabilities</p>
                    </a>
                </div>
            </section>
        </div>

        <!-- Tier List Preview -->
        <section id="tier-lists" class="mt-12 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-6 text-gray-900 flex items-center">
                <span class="text-2xl mr-2">üèÜ</span> Character Rankings Preview
            </h2>
            <div class="grid md:grid-cols-4 gap-6">
                <div class="text-center">
                    <div class="bg-gradient-to-r from-yellow-400 to-yellow-600 text-white rounded-lg p-4 font-bold text-lg">
                        S-Tier
                    </div>
                    <div class="mt-2 text-sm text-gray-600">Best Characters</div>
                </div>
                <div class="text-center">
                    <div class="bg-gradient-to-r from-purple-400 to-purple-600 text-white rounded-lg p-4 font-bold text-lg">
                        A-Tier
                    </div>
                    <div class="mt-2 text-sm text-gray-600">Excellent Characters</div>
                </div>
                <div class="text-center">
                    <div class="bg-gradient-to-r from-blue-400 to-blue-600 text-white rounded-lg p-4 font-bold text-lg">
                        B-Tier
                    </div>
                    <div class="mt-2 text-sm text-gray-600">Viable Characters</div>
                </div>
                <div class="text-center">
                    <div class="bg-gradient-to-r from-gray-400 to-gray-600 text-white rounded-lg p-4 font-bold text-lg">
                        C-Tier
                    </div>
                    <div class="mt-2 text-sm text-gray-600">Beginner Characters</div>
                </div>
            </div>
            <div class="text-center mt-6">
                <a href="tier-lists/" class="inline-block bg-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors">
                    View Complete Tier List ‚Üí
                </a>
            </div>
        </section>

        <!-- Database Preview -->
        <section id="database" class="mt-12 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-6 text-gray-900 flex items-center">
                <span class="text-2xl mr-2">üóÇÔ∏è</span> Character Database Preview
            </h2>
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-gradient-to-r from-yellow-100 to-yellow-200 p-4 rounded-lg">
                    <h3 class="font-semibold text-yellow-800 mb-2">Featured Characters</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="flex items-center space-x-2">
                            <img src="assets/images/characters/shadow-assassin.svg" alt="Shadow Assassin" class="w-10 h-10 rounded-full border-2 border-gray-300" loading="lazy">
                            <div>
                                <div class="flex items-center space-x-1">
                                    <span class="text-xs bg-gray-700 text-white px-1 rounded">S</span>
                                    <span class="text-sm font-medium">Shadow Assassin</span>
                                </div>
                                <div class="text-xs text-gray-600">DPS ‚Ä¢ Dark</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <img src="assets/images/characters/holy-priest.svg" alt="Holy Priest" class="w-10 h-10 rounded-full border-2 border-yellow-300" loading="lazy">
                            <div>
                                <div class="flex items-center space-x-1">
                                    <span class="text-xs bg-yellow-500 text-white px-1 rounded">S</span>
                                    <span class="text-sm font-medium">Holy Priest</span>
                                </div>
                                <div class="text-xs text-gray-600">Healer ‚Ä¢ Light</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <img src="assets/images/characters/flame-warrior.svg" alt="Fire Warrior" class="w-10 h-10 rounded-full border-2 border-red-300" loading="lazy">
                            <div>
                                <div class="flex items-center space-x-1">
                                    <span class="text-xs bg-red-500 text-white px-1 rounded">A</span>
                                    <span class="text-sm font-medium">Fire Warrior</span>
                                </div>
                                <div class="text-xs text-gray-600">DPS ‚Ä¢ Fire</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <img src="assets/images/characters/ice-mage.svg" alt="Ice Mage" class="w-10 h-10 rounded-full border-2 border-blue-300" loading="lazy">
                            <div>
                                <div class="flex items-center space-x-1">
                                    <span class="text-xs bg-blue-500 text-white px-1 rounded">A</span>
                                    <span class="text-sm font-medium">Ice Mage</span>
                                </div>
                                <div class="text-xs text-gray-600">Control ‚Ä¢ Water</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-purple-100 to-purple-200 p-4 rounded-lg">
                    <h3 class="font-semibold text-purple-800 mb-2">Quick Stats</h3>
                    <div class="grid grid-cols-2 gap-2 text-sm">
                        <div>
                            <div class="font-bold text-purple-600">150+</div>
                            <div class="text-gray-600">Total Characters</div>
                        </div>
                        <div>
                            <div class="font-bold text-purple-600">15</div>
                            <div class="text-gray-600">S-Tier Heroes</div>
                        </div>
                        <div>
                            <div class="font-bold text-purple-600">6</div>
                            <div class="text-gray-600">Elements</div>
                        </div>
                        <div>
                            <div class="font-bold text-purple-600">4</div>
                            <div class="text-gray-600">Classes</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <a href="database/units/" class="inline-block bg-purple-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                    Browse All Characters ‚Üí
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Navigation</h3>
                    <ul class="space-y-2">
                        <li><a href="/" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="guides/" class="text-gray-400 hover:text-white">Guides</a></li>
                        <li><a href="codes/" class="text-gray-400 hover:text-white">Codes</a></li>
                        <li><a href="tier-lists/" class="text-gray-400 hover:text-white">Tier List</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Game Content</h3>
                    <ul class="space-y-2">
                        <li><a href="database/units/" class="text-gray-400 hover:text-white">Character Database</a></li>
                        <li><a href="guides/skills/" class="text-gray-400 hover:text-white">Skill System</a></li>
                        <li><a href="guides/equipment/" class="text-gray-400 hover:text-white">Equipment System</a></li>
                        <li><a href="guides/drops/" class="text-gray-400 hover:text-white">Drop System</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Tools</h3>
                    <ul class="space-y-2">
                        <li><a href="tools/build-calculator/" class="text-gray-400 hover:text-white">Build Calculator</a></li>
                        <li><a href="tools/drop-simulator/" class="text-gray-400 hover:text-white">Drop Simulator</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">About Us</h3>
                    <p class="text-gray-400">Anime Raid Wiki is dedicated to providing players with the most comprehensive and accurate game guides and data.</p>
                    <div class="mt-4">
                        <span class="text-sm text-gray-500">Last updated: October 16, 2025</span>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Anime Raid Wiki. All content is for educational and entertainment purposes.</p>
            </div>
        </div>
    </footer>

    <!-- External Resources Management System -->
    <script src="js/external-resources-manager.js" defer></script>
    <script src="js/seo-link-optimizer.js" defer></script>
    <script src="js/content-sync-service.js" defer></script>

    <!-- Performance Optimized JavaScript -->
    <script src="js/api-service.js" defer></script>
    <script src="js/update-manager.js" defer></script>
    <script src="js/websocket-sync.js" defer></script>
    <script src="js/smart-updates.js" defer></script>
    <script src="js/incremental-updates.js" defer></script>
    <script src="js/cms.js" defer></script>
    <script src="js/main.js" defer></script>
    <script src="js/structured-data.js" defer></script>
    <script src="js/comment-system.js" defer></script>

    <!-- Auto Content Scraping System -->
    <script src="js/scraper-compliance.js" defer></script>
    <script src="js/game-content-scraper.js" defer></script>
    <script src="js/website-monitor.js" defer></script>
    <script src="js/auto-content-integrator.js" defer></script>

    <!-- Homepage Dynamic Content Script -->
    <script>
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üè† ÂàùÂßãÂåñ‰∏ªÈ°µÂä®ÊÄÅÂÜÖÂÆπ...');

            // Á≠âÂæÖÂ§ñÈÉ®ËµÑÊ∫êÁÆ°ÁêÜÂô®ÂàùÂßãÂåñ
            setTimeout(async () => {
                await initializeHomeContent();
                setupContentUpdateListeners();
            }, 1000);
        });

        // ÂàùÂßãÂåñ‰∏ªÈ°µÂÜÖÂÆπ
        async function initializeHomeContent() {
            try {
                // Âä†ËΩΩÊúÄÊñ∞‰ª£Á†Å
                await loadHomeCodes();

                // Êõ¥Êñ∞ÁªüËÆ°Êï∞ÊçÆ
                updateHomeStats();

                // Êõ¥Êñ∞ÂêåÊ≠•Áä∂ÊÄÅ
                updateSyncStatus();

                console.log('‚úÖ ‰∏ªÈ°µÂÜÖÂÆπÂàùÂßãÂåñÂÆåÊàê');
            } catch (error) {
                console.error('‚ùå ‰∏ªÈ°µÂÜÖÂÆπÂàùÂßãÂåñÂ§±Ë¥•:', error);
                showHomeError('Failed to load dynamic content');
            }
        }

        // Âä†ËΩΩ‰∏ªÈ°µ‰ª£Á†ÅÊòæÁ§∫
        async function loadHomeCodes() {
            const container = document.getElementById('home-codes-container');
            const lastUpdateEl = document.getElementById('codes-last-update');
            const sourcesEl = document.getElementById('codes-sources');
            const sourceListEl = document.getElementById('source-list');

            try {
                // Ëé∑ÂèñÁºìÂ≠òÁöÑ‰ª£Á†ÅÊï∞ÊçÆ
                let codesData = null;

                if (window.externalResourceManager) {
                    codesData = window.externalResourceManager.getCachedContent('codes');
                }

                // Â¶ÇÊûúÊ≤°ÊúâÁºìÂ≠òÊï∞ÊçÆÔºåÊòæÁ§∫Ê®°ÊãüÊï∞ÊçÆ
                if (!codesData || !codesData.codes) {
                    codesData = getMockHomeCodesData();
                }

                if (codesData && codesData.codes && codesData.codes.length > 0) {
                    // ÊòæÁ§∫ÊúÄÊñ∞ÁöÑ3‰∏™‰ª£Á†Å
                    const latestCodes = codesData.codes.slice(0, 3);

                    container.innerHTML = latestCodes.map(code => `
                        <div class="border-l-4 ${code.status === 'active' ? 'border-green-500' : 'border-red-500'} pl-4 py-2 hover:bg-gray-50 transition-colors">
                            <div class="flex justify-between items-start">
                                <div class="flex-1">
                                    <div class="font-mono font-bold ${code.status === 'active' ? 'text-green-600' : 'text-red-600'}">
                                        ${code.code}
                                    </div>
                                    <div class="text-sm text-gray-600">${code.rewards}</div>
                                    ${code.expiry ? `<div class="text-xs text-gray-500">Expires: ${code.expiry}</div>` : ''}
                                    ${code.sources && code.sources.length > 0 ? `
                                        <div class="flex items-center space-x-1 mt-1">
                                            <span class="text-xs text-gray-400">Verified by:</span>
                                            ${code.sources.slice(0, 2).map(source => `
                                                <span class="text-xs bg-blue-100 text-blue-700 px-1 rounded">${source}</span>
                                            `).join('')}
                                            ${code.sources.length > 2 ? `<span class="text-xs text-gray-400">+${code.sources.length - 2} more</span>` : ''}
                                        </div>
                                    ` : ''}
                                </div>
                                <button onclick="copyCode('${code.code}')" class="ml-2 text-blue-600 hover:text-blue-800">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    `).join('');

                    // Êõ¥Êñ∞Êó∂Èó¥Êà≥
                    if (codesData.lastUpdate) {
                        const updateTime = new Date(codesData.lastUpdate);
                        lastUpdateEl.textContent = `Updated: ${formatTimeAgo(updateTime)}`;
                    }

                    // ÊòæÁ§∫Êï∞ÊçÆÊ∫ê
                    if (codesData.sourceCount) {
                        sourcesEl.classList.remove('hidden');
                        sourceListEl.textContent = `${codesData.sourceCount} sources`;
                    }
                } else {
                    container.innerHTML = `
                        <div class="text-center py-4">
                            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path>
                            </svg>
                            <p class="mt-2 text-gray-500">No codes available</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading home codes:', error);
                container.innerHTML = `
                    <div class="text-center py-4 text-red-500">
                        <p>Failed to load codes</p>
                        <button onclick="loadHomeCodes()" class="mt-2 text-blue-600 hover:text-blue-800 text-sm">Retry</button>
                    </div>
                `;
            }
        }

        // Êõ¥Êñ∞‰∏ªÈ°µÁªüËÆ°
        function updateHomeStats() {
            try {
                // Êõ¥Êñ∞‰ª£Á†ÅÊï∞Èáè
                const codesCount = document.getElementById('active-codes-count');
                if (window.externalResourceManager) {
                    const codesData = window.externalResourceManager.getCachedContent('codes');
                    if (codesData && codesData.codes) {
                        codesCount.textContent = codesData.codes.filter(c => c.status === 'active').length;
                    }
                }

                // Êõ¥Êñ∞Êï∞ÊçÆÊ∫êÊï∞Èáè
                const sourcesCount = document.getElementById('sources-count');
                if (window.externalResourceManager) {
                    const stats = window.externalResourceManager.getResourceStats();
                    sourcesCount.textContent = stats.totalSources || 19;
                }

                // Êõ¥Êñ∞ÂêåÊ≠•Êó∂Èó¥
                updateLastSyncTime();
            } catch (error) {
                console.error('Error updating stats:', error);
            }
        }

        // Êõ¥Êñ∞ÂêåÊ≠•Áä∂ÊÄÅ
        function updateSyncStatus() {
            const statusEl = document.getElementById('sync-status');

            try {
                if (window.contentSyncService) {
                    const syncStatus = window.contentSyncService.getSyncStatus();

                    if (syncStatus.isRunning) {
                        statusEl.innerHTML = `
                            <div class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                            <span class="text-sm text-gray-600">Live Syncing</span>
                        `;
                    } else {
                        statusEl.innerHTML = `
                            <div class="w-2 h-2 bg-yellow-500 rounded-full mr-2"></div>
                            <span class="text-sm text-gray-600">Paused</span>
                        `;
                    }
                }
            } catch (error) {
                console.error('Error updating sync status:', error);
            }
        }

        // Êõ¥Êñ∞ÊúÄÂêéÂêåÊ≠•Êó∂Èó¥
        function updateLastSyncTime() {
            const lastSyncEl = document.getElementById('last-sync-time');

            try {
                if (window.contentSyncService) {
                    const syncStatus = window.contentSyncService.getSyncStatus();
                    if (syncStatus.stats.lastSyncTime) {
                        const syncTime = new Date(syncStatus.stats.lastSyncTime);
                        lastSyncEl.textContent = `Last sync: ${formatTimeAgo(syncTime)}`;
                    }
                }
            } catch (error) {
                console.error('Error updating sync time:', error);
            }
        }

        // ËÆæÁΩÆÂÜÖÂÆπÊõ¥Êñ∞ÁõëÂê¨Âô®
        function setupContentUpdateListeners() {
            // ÁõëÂê¨‰ª£Á†ÅÊõ¥Êñ∞
            window.addEventListener('codesUpdated', (event) => {
                console.log('üé´ ‰ª£Á†ÅÂ∑≤Êõ¥Êñ∞ÔºåÂà∑Êñ∞‰∏ªÈ°µÊòæÁ§∫');
                loadHomeCodes();
                updateHomeStats();
            });

            // ÁõëÂê¨ÂêåÊ≠•ÂÆåÊàê
            window.addEventListener('syncComplete', (event) => {
                console.log('üîÑ ÂêåÊ≠•ÂÆåÊàêÔºåÊõ¥Êñ∞‰∏ªÈ°µÁä∂ÊÄÅ');
                updateSyncStatus();
                updateLastSyncTime();
            });
        }

        // Âà∑Êñ∞‰∏ªÈ°µ‰ª£Á†Å
        async function refreshHomeCodes() {
            const container = document.getElementById('home-codes-container');
            container.innerHTML = `
                <div class="text-center py-4">
                    <div class="inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-red-600"></div>
                    <p class="text-sm text-gray-500 mt-2">Refreshing codes...</p>
                </div>
            `;

            try {
                if (window.externalResourceManager) {
                    await window.externalResourceManager.updateCodes();
                    await loadHomeCodes();
                } else {
                    await loadHomeCodes();
                }
            } catch (error) {
                console.error('Error refreshing codes:', error);
            }
        }

        // Âà∑Êñ∞ÊâÄÊúâÁªüËÆ°
        function refreshAllStats() {
            console.log('üîÑ Âà∑Êñ∞‰∏ªÈ°µÁªüËÆ°Êï∞ÊçÆ...');
            updateHomeStats();
            updateSyncStatus();
            updateLastSyncTime();
        }

        // Â§çÂà∂‰ª£Á†Å
        function copyCode(code) {
            navigator.clipboard.writeText(code).then(() => {
                showNotification('Code copied to clipboard!', 'success');
            }).catch(err => {
                console.error('Failed to copy code:', err);
                showNotification('Failed to copy code', 'error');
            });
        }

        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg fade-in ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ÊòæÁ§∫ÈîôËØØ
        function showHomeError(message) {
            const container = document.getElementById('home-codes-container');
            container.innerHTML = `
                <div class="text-center py-4 text-red-500">
                    <p>${message}</p>
                    <button onclick="initializeHomeContent()" class="mt-2 text-blue-600 hover:text-blue-800 text-sm">Retry</button>
                </div>
            `;
        }

        // Ê†ºÂºèÂåñÊó∂Èó¥ÊòæÁ§∫
        function formatTimeAgo(date) {
            const now = new Date();
            const diffInMinutes = Math.floor((now - date) / (1000 * 60));

            if (diffInMinutes < 1) return 'Just now';
            if (diffInMinutes < 60) return `${diffInMinutes}m ago`;

            const diffInHours = Math.floor(diffInMinutes / 60);
            if (diffInHours < 24) return `${diffInHours}h ago`;

            const diffInDays = Math.floor(diffInHours / 24);
            return `${diffInDays}d ago`;
        }

        // Ëé∑ÂèñÊ®°Êãü‰ª£Á†ÅÊï∞ÊçÆ
        function getMockHomeCodesData() {
            return {
                codes: [
                    {
                        code: 'LUCKY2025',
                        rewards: 'Diamonds x5000, Gold x100000',
                        status: 'active',
                        expiry: '2025-02-01',
                        sources: ['Try Hard Guides', 'Gamerant']
                    },
                    {
                        code: 'NEWTIERUPDATE',
                        rewards: 'Premium Summon x3, EXP Potions x10',
                        status: 'active',
                        expiry: '2025-01-25',
                        sources: ['Gamer Journalist']
                    },
                    {
                        code: 'WINTEREVENT',
                        rewards: 'Ice Character Fragments, Stamina Potions x5',
                        status: 'expired',
                        expiry: '2025-01-15',
                        sources: ['Beebom']
                    }
                ],
                lastUpdate: new Date().toISOString(),
                sourceCount: 5
            };
        }
    </script>

    <!-- Service Worker Registration -->
    <script>
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');

                        // Request notification permission
                        if ('Notification' in window && Notification.permission === 'default') {
                            Notification.requestPermission().then(permission => {
                                if (permission === 'granted') {
                                    console.log('Notification permission granted');
                                }
                            });
                        }
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>